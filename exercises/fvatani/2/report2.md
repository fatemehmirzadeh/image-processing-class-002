```
clc;
clear all;
close all;
```
از دستورات clear all، clc و close all  به ترتیب برای پاک کردن صفحهCommand Window، حذف متغیرها و بستن پنجره ها استفاده شده است.
```
image=imread('pears.png'); 
image=rgb2gray(image);  
```
تصویر دریافت شده وازRGB به تصویر خاکستری تبدیل می‌شود. در صورتیکه تصویر خاکستری است این خط کامنت شود. 
```
p=input('Input window size to padding:');  
p=floor(p/2);
pad_image=uint8(zeros(size(image)+(2*p)));
```
تصویر pad_image باید مقدار padding را علاوه بر پیکسل‌های اصلی تصویر در بر بگیرد. padding  در سمت چپ و راست و بالا و پایین باید اضافه گردد بنابراین به پیکسل‌هایی اصلی تصویر دو برابر مقدار p باید اضافه شود( اگر مقدار پنجره فیلتر 5 باشد باید به هر سمت تصویر 2 پیکسل اضافه شود. درنهایت به x و y  هرکدام باید 4 پیکسل اضافه شود). به علت وجود پیکسل مرکزی پنجره‌ها مقدار فرد دارند بنابراین حاصل تقسیم رند شده است.
```
for x=1:size(image,1)
            for y=1:size(image,2)
                pad_image(x+p,y+p)=image(x,y); 
```
تصویر اصلی پیمایش شده و مقدار پیکسل‌ها در pad_image ذخیره می‌شود. از آنجا که p ستون و p سطر در ابتدا و انتها و بالا و پایین تصویر برای padding  باید خالی بماند و پیکسل ها در وسط  قرار گیرند مقدار x و y در pad_image با p جمع شده‌است.  

```
if y==1 
     for z=0:(p-1)
         pad_image(x+p,y+z)=image(x,y);
     end
end
```
این بخش در ادامه حلقه قبلی قرار دارد. در صورتی که پیکسل در ستون سمت چپ تصویر قرار داشته باشد (y=1) مقادیر پیکسل اصلی به p  ستون کناری کپی می‌شود. برای اینکه در 
 p سطر بالا فعلا مقداری قرار نگیرد x ها با p جمع شده‌اند. علاوه بر پیکسل ستون p ام مقدار ستون بین آنها نیز باید با مقدار پیکسل اصلی برابر شود. یعنی اگر قرار است دو پیکسل اضافه شود باید ستون اول و دوم تصویر pad_image  مقدار پیکسل اصلی را بگیرند. مقدار z درون حلقه این کار را انجام می‌دهد(ستون ها را جابه‌جا می‌کند). شمارنده حلقه از صفر تا p-1 است زیرا در (x+p,y+p) مقدار اصلی قرار دارد و باید دو ستون قبلی پر شود.
 ```
  if y==size(image,2)
      for z=1:p
          pad_image(x+p,y+(p+z))=image(x,y);
      end
  end
```
این قسمت هم همین کار را برای ستون انتهای تصویر انجام می‌دهد. با این تفاوت که اینجا مقدار y علاوه بر z  با p هم جمع شده است زیرا به مقدار y باید padding  سمت چپ اضافه شود. شمارنده حلقه هم از یک تا p  پیش‌ می‌رود. زیرا در (y+p , x+p) مقدار اصلی قرار دارد و اگر از صفر شروع کنیم یک ستون بدون مقدار می‌ماند.

```
for x=1:size(pad_image,1)
            for y=1:size(pad_image,2)
                
                if x==(p+1)
                    for z=1:p
                        pad_image(x-z,y)=pad_image(x,y);
                    end
                end
                
                                
                if x==(size(image,1)+p)
                    for z=1:p
                        pad_image(x+z,y)=pad_image(x,y);
                    end
                end
                
            end
end
```
تا اینجا p سطر بالا  و پایین تصویر خالیست و باید مقدار بگیرد. برای اینکه گوشه های تصویر خالی نماند در این حلقه به اندازه سایز pad_image پیمایش انجام شده‌است. 

در اولین شرط بررسی می‌شود که آیا در سطر اول تصویر اصلی قرار داریم یا نه ( p سطر اصلی خالیست و پیکسل اصلی از x+p+1  شروع می‌شود). سپس سطر اول تا p  به کمک حلقه پر می‌شود. برای اینکه نسبت به پیکسل اصلی باید بالا برویم x-z شده است.

در شرط دوم این کار را برای سطر پایین تصویر انجام می‌دهیم. و چون باید نسبت به تصویر اصلی دو سطر پایین بیایم x+z  شده است. 
```
figure,imshow(pad_image)
```
خروجی نمایش داده می‌شود.تصویرنهایی:

 ![image](https://github.com/semnan-university-ai/image-processing-class-002/blob/main/exercises/fvatani/2/tamrin2.png)


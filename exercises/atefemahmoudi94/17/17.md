# تمرین 17


تابع cropp 5 ورودی دارد .تصویر اولیه که در img0 قرار میگیرد.مختصاتیکه عمل کراپ از آن آغاز شود در a,b ومختصاتی که کراپ در آن تمام شود در a1,b1 ریخته میشود.
در سه خط بعدی تابع  size اگر تصویر رو بهش بدیم و عدد 1، تعداد سطرا رو میشماره. اگر تصویرو بدیم و عدد 2 ، ستون هارو میشماره. اگر تصویرو بدیم و عدد 3 ، بعد رو میشاره. بعد تصویر رنگی 3 و بعد تصویر خاکستری 1 است.
تو if  اول میگه اگر بعد مخالف 1 بود یعنی تصویر رنگیه اول خاکستری اش میکند و بعد چک میکند اگر دو مقدار  a,b از ابعاد تصویر اصلی بیشترند یعنی امکان کراپ اصلا وجود ندارد و این پیغام چاپ میشود که ابعاد دیگری را انتخاب کنید.
در غیر این صورت اگر ابعاد داده شده مناسب بود و شرط را داشت در دو حلقه ی for  عمل کراپ انجام میشود.
به این صورت که ابتدا مقدار 1 را درون متغیر k0 میریزیم، در حلقه ی اول به ازای هر i  بین a,a1 مقدار متغیر k1 را 1 میکنیم و در حلقه ی دوم به ازای هر j که بین b,b1 است، مقدار ان i,j را درون k0,k1 میریزیم برای تمام ستون های این سطر.سپس برای سطر بعدی هم همین کار را تکرار میکنیم تا به سطر a1 برسیم.
```
function [img2,img1,img0]=cropp(img,a,b,a1,b1)
img0=imread(img);
row=size(img0,1);
col=size(img0,2);
dim=size(img0,3);
if dim ~=1
    img1=rgb2gray(img0);
    if a>=row || b>=col || a1>=row || b1>=col
        disp("you should go for another size")
    else
        k0=1;
        for i=a:a1
            k1=1;
            for j=b:b1
                im(k0,k1)=img0(i,j);
                k1=k1+1;
            end
            k0=k0+1;
        end
    end
```
قسمت انتهایی کد هم برای وقتی است که تصویر خودش خاکستری است وعمل کراپ با توجه به همان توضیحی که نوشتیم صورت میگیرد.

```
else
    if a>=row || b>=col
        disp("you should go for another size")
    else
        k0=1;
        k1=1;
        for i=a:a1
            for j=b:b1
                im(k0,k1)=img0(i,j);
                k0=k0+1;
                k1=k1+1;
            end
        end
    end
end
img2=im;
end
```

## تصویر ورودی و خروجی

![output](https://github.com/semnan-university-ai/image-processing-class-002/tree/main/exercises/atefemahmoudi94/17/output.jpg)